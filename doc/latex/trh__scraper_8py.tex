\hypertarget{trh__scraper_8py}{}\doxysection{trh\+\_\+scraper.\+py File Reference}
\label{trh__scraper_8py}\index{trh\_scraper.py@{trh\_scraper.py}}
\doxysubsection*{Namespaces}
\begin{DoxyCompactItemize}
\item 
 \mbox{\hyperlink{namespacetrh__scraper}{trh\+\_\+scraper}}
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
def \mbox{\hyperlink{namespacetrh__scraper_aaaf6a409e848c5def2e4566137b0b7ae}{trh\+\_\+scraper.\+wait\+\_\+between}} (a, b)
\item 
def \mbox{\hyperlink{namespacetrh__scraper_aafc6e22803328a795c65419636b780eb}{trh\+\_\+scraper.\+run\+\_\+query}} (query)
\begin{DoxyCompactList}\small\item\em Execute Impala query. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{namespacetrh__scraper_a865839db813a11087b51acbe479842f6}{trh\+\_\+scraper.\+get\+\_\+tasks}} (year, page\+\_\+size)
\begin{DoxyCompactList}\small\item\em Get list of partitions and application Ids. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{namespacetrh__scraper_a765fd63c19d55956d9e2e560ae9880c3}{trh\+\_\+scraper.\+load\+\_\+table}} (proc\+\_\+date)
\item 
def \mbox{\hyperlink{namespacetrh__scraper_a1ea389c60e0f0ba31922f5da19a5e25e}{trh\+\_\+scraper.\+hdfs\+\_\+write}} (proc\+\_\+date, result)
\item 
def \mbox{\hyperlink{namespacetrh__scraper_a5e792d3caeaa197756fc49e2dd37cf53}{trh\+\_\+scraper.\+get\+\_\+captcha}} (url, site\+\_\+key)
\item 
def \mbox{\hyperlink{namespacetrh__scraper_a3b0d875a4f74b69c90d51d14f585c7aa}{trh\+\_\+scraper.\+check\+\_\+year}} (value)
\begin{DoxyCompactList}\small\item\em --year C\+LI parameter validation \end{DoxyCompactList}\item 
def \mbox{\hyperlink{namespacetrh__scraper_aa2103b55a4685e51b2a6328f9eba3658}{trh\+\_\+scraper.\+scrape\+\_\+site}} (app\+\_\+ids)
\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacetrh__scraper_a815f140ec482a1fbfdab9283ca74d585}{trh\+\_\+scraper.\+stop\+\_\+max\+\_\+attempt\+\_\+number}}
\item 
\mbox{\hyperlink{namespacetrh__scraper_aea83287fbf6a40247e89fb6b3fd0857f}{trh\+\_\+scraper.\+wait\+\_\+random\+\_\+min}}
\item 
\mbox{\hyperlink{namespacetrh__scraper_a828bf39cf174be9b1f1b07e6d260febf}{trh\+\_\+scraper.\+wait\+\_\+random\+\_\+max}}
\item 
tuple \mbox{\hyperlink{namespacetrh__scraper_adecd2739d3b753d43c35c290060af6cd}{trh\+\_\+scraper.\+descr}}
\item 
\mbox{\hyperlink{namespacetrh__scraper_a596c3812066e5aee25650ffe8bfa43f2}{trh\+\_\+scraper.\+arg\+\_\+parser}} = argparse.\+Argument\+Parser(description=descr)
\item 
\mbox{\hyperlink{namespacetrh__scraper_ad80318390b3cd5ffe380aebf911da949}{trh\+\_\+scraper.\+type}}
\item 
\mbox{\hyperlink{namespacetrh__scraper_a905f94f8acf5fc19fb6d3319dfbed857}{trh\+\_\+scraper.\+default}}
\item 
\mbox{\hyperlink{namespacetrh__scraper_aba519836f405b2aa70a88fa38a12bf9a}{trh\+\_\+scraper.\+help}}
\item 
\mbox{\hyperlink{namespacetrh__scraper_a4e24a3b7e07fd13c6d4735e30f613d67}{trh\+\_\+scraper.\+args}} = arg\+\_\+parser.\+parse\+\_\+args()
\item 
\mbox{\hyperlink{namespacetrh__scraper_a671904a2a7ad63db8b097ac02eb067af}{trh\+\_\+scraper.\+year}} = args.\+year
\item 
tuple \mbox{\hyperlink{namespacetrh__scraper_a5e67c74bdf39eba836da30465942fd82}{trh\+\_\+scraper.\+log\+\_\+file\+\_\+name}} = (\textquotesingle{}./log/nocaptcha/scrap\+\_\+\%s.\+log\textquotesingle{}) \% (str(datetime.\+now())\mbox{[}2\+:19\mbox{]}.replace(\textquotesingle{} \textquotesingle{},\textquotesingle{}\+\_\+\textquotesingle{}))
\item 
\mbox{\hyperlink{namespacetrh__scraper_a47cb758e6b445e0a803c0f11074b26e6}{trh\+\_\+scraper.\+format}}
\item 
\mbox{\hyperlink{namespacetrh__scraper_acda927f390be082984e72bf7e05c9c52}{trh\+\_\+scraper.\+level}}
\item 
\mbox{\hyperlink{namespacetrh__scraper_ac97bdffc6049fcacb769b7c11cb61a54}{trh\+\_\+scraper.\+log\+Formatter}} = logging.\+Formatter(\textquotesingle{}\mbox{[}\%(asctime)s\mbox{]} \%(levelname)s\+: \%(message)s\textquotesingle{})
\item 
\mbox{\hyperlink{namespacetrh__scraper_a3aa31adce295c18244dc3fbc4e923349}{trh\+\_\+scraper.\+root\+Logger}} = logging.\+get\+Logger()
\item 
\mbox{\hyperlink{namespacetrh__scraper_a2c71445fa00b1cb6ff51efb9f4608075}{trh\+\_\+scraper.\+file\+Handler}} = logging.\+File\+Handler(log\+\_\+file\+\_\+name)
\item 
def \mbox{\hyperlink{namespacetrh__scraper_abf33bfd3cdfea908fcdd9056f68bcb1c}{trh\+\_\+scraper.\+portion}} = get\+\_\+tasks(year, args.\+block\+\_\+size)
\item 
bool \mbox{\hyperlink{namespacetrh__scraper_aaa00313b57f4512da5247eb43c15051e}{trh\+\_\+scraper.\+enough}} = False
\item 
def \mbox{\hyperlink{namespacetrh__scraper_a80eb095cf713abaed9cfc859303547c3}{trh\+\_\+scraper.\+start\+\_\+amount}} = portion\mbox{[}\textquotesingle{}size\textquotesingle{}\mbox{]}
\item 
def \mbox{\hyperlink{namespacetrh__scraper_aa52b8b0cc790f5ce9613f48b1f668d01}{trh\+\_\+scraper.\+total\+\_\+amount}} = portion\mbox{[}\textquotesingle{}size\textquotesingle{}\mbox{]}
\item 
int \mbox{\hyperlink{namespacetrh__scraper_a678be2489b3658feef7e23207ac29597}{trh\+\_\+scraper.\+retries}} = 0
\item 
int \mbox{\hyperlink{namespacetrh__scraper_ad41217096fe0467a36a822e106963d7c}{trh\+\_\+scraper.\+total\+\_\+ids}} = 0
\item 
def \mbox{\hyperlink{namespacetrh__scraper_affeb8d76ff30c826ea7b70d3fff4d120}{trh\+\_\+scraper.\+res}} = scrape\+\_\+site(portion\mbox{[}\textquotesingle{}tasks\textquotesingle{}\mbox{]})
\item 
\mbox{\hyperlink{namespacetrh__scraper_ab5ce348641db8c48c38f84256876dd94}{trh\+\_\+scraper.\+ids}} = set()
\item 
list \mbox{\hyperlink{namespacetrh__scraper_a60b1d75c78c2812ff22057e8629cb0de}{trh\+\_\+scraper.\+result}} = \mbox{[}$\,$\mbox{]}
\item 
\mbox{\hyperlink{namespacetrh__scraper_a412c346c09fa4a80e3b79fb25b5eaa51}{trh\+\_\+scraper.\+marker}} = str(int(time()))
\end{DoxyCompactItemize}
